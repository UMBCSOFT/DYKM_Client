(this["webpackJsonpdynm-front-end"]=this["webpackJsonpdynm-front-end"]||[]).push([[0],{20:function(e,t,s){},77:function(e,t,s){},80:function(e,t,s){},90:function(e,t){function s(e){var t={};for(var s in e)t[s]=e[s];return JSON.stringify(t,(function(e,t){return t instanceof Node?"Node":t instanceof Window?"Window":t})," ")}window.Post=function(e){void 0===window.frame&&(window.frame=document.getElementById("Frame").contentWindow),window.frame.postMessage(e)},window.addEventListener("message",(function(e){if(e.source!==window&&e.currentTarget===window){var t=e.data;if(!(t.startsWith("WEBSOCKET_ONMESSAGE")||t.startsWith("WEBSOCKET_ONOPEN")||t.startsWith("WEBSOCKET_ONERROR")||t.startsWith("WEBSOCKET_ONCLOSE")))if(t.startsWith("WEBSOCKET_CONNECT ")){var n=t.substring("WEBSOCKET_CONNECT ".length);void 0===window.socket&&(window.socket=new WebSocket(n),window.socket.onmessage=function(e){window.Post("WEBSOCKET_ONMESSAGE "+s(e))},window.socket.onopen=function(e){window.Post("WEBSOCKET_ONOPEN "+s(e))},window.socket.onerror=function(e){window.Post("WEBSOCKET_ONERROR "+s(e))},window.socket.onclose=function(e){window.socket=void 0,window.Post("WEBSOCKET_ONCLOSE "+s(e))},window.socketurl===n&&(window.Post("WEBSOCKET_ONOPEN null"),console.log("Sending fake onopen since this is a resume")),window.socketurl=n)}else if(t.startsWith("WEBSOCKET_SEND ")){console.log(t);var a=t.substring("WEBSOCKET_SEND ".length);void 0!==window.socket&&window.socket.send(a)}else t.startsWith("WEBSOCKET_CLOSE")?void 0!==window.socket&&window.socket.close():console.log("UNHANDLED "+t)}}),!1)},91:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),o=s(27),i=s.n(o),r=(s(77),s(20),s(21),s(100)),c=s(1),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return Object(c.jsxs)(r.a,{variant:"pills",defaultActiveKey:e,children:[Object(c.jsx)(r.a.Item,{children:Object(c.jsx)(r.a.Link,{href:"/",children:"Home"})}),Object(c.jsx)(r.a.Item,{children:Object(c.jsx)(r.a.Link,{href:"/howtoplay",children:"How To Play"})}),Object(c.jsx)(r.a.Item,{children:Object(c.jsx)(r.a.Link,{href:"/about",children:"About"})}),Object(c.jsx)(r.a.Item,{children:Object(c.jsx)(r.a.Link,{href:"/productpage",children:"Product Page"})})]})},h=s(14);var d=function(){return Object(c.jsx)("div",{className:"About",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"About"}),Object(c.jsx)("h5",{children:"This game was created as a project for Software Engineering I (CMSC 447) at UMBC, Spring 2021"})]}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"Meet Team SOFT"}),Object(c.jsx)("h5",{children:"Lorem ipsum dolor"})]})]})})};var u=function(){return Object(c.jsx)("div",{className:"howtoplay",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"How To Play"}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"2. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"3. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"4. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})})]})})})},j=s(7),m=s(8),b=s(12),O=s(15),p=s(9),f=s(11),g=s(10),v=(s(80),s(98)),k=s(96),x=s(68),y=s(99),S=s(70),C=s(60),T=function(){function e(t){Object(j.a)(this,e),this.url=t}return Object(m.a)(e,[{key:"_Post",value:function(e){window.parent.postMessage(e,"*")}},{key:"connect",value:function(){var e=this;window.addEventListener("message",(function(t){e._messageHandler(t,e)}),!1),this._Post("WEBSOCKET_CONNECT "+this.url)}},{key:"send",value:function(e){console.log("Sending message to server "+e),this._Post("WEBSOCKET_SEND "+e)}},{key:"onmessage",set:function(e){throw new Error("Do not use socket.onmessage = func, use setOnMessage(this, func)")}},{key:"onerror",set:function(e){throw new Error("Do not use socket.onerror = func, use setOnError(this, func)")}},{key:"onopen",set:function(e){throw new Error("Do not use socket.onopen = func, use setOnOpen(this, func)")}},{key:"onclose",set:function(e){throw new Error("Do not use socket.onclose = func, use setOnClose(this, func)")}},{key:"setOnMessage",value:function(e,t){this._onmessage=void 0!==t?t.bind(e):void 0}},{key:"setOnError",value:function(e,t){this._onerror=void 0!==t?t.bind(e):void 0}},{key:"setOnOpen",value:function(e,t){this._onopen=void 0!==t?t.bind(e):void 0}},{key:"setOnClose",value:function(e,t){this._onclose=void 0!==t?t.bind(e):void 0}},{key:"close",value:function(){this._Post("WEBSOCKET_CLOSE")}},{key:"_messageHandler",value:function(e,t){if(e.source!==window&&e.target===window){var s=e.data;if(s.startsWith("WEBSOCKET_ONMESSAGE ")){var n=s.substring("WEBSOCKET_ONMESSAGE ".length),a=JSON.parse(n);t._onmessage&&t._onmessage(a)}else if(s.startsWith("WEBSOCKET_ONOPEN ")){var o=s.substring("WEBSOCKET_ONOPEN ".length),i=JSON.parse(o);t._onopen&&t._onopen(i)}else if(s.startsWith("WEBSOCKET_ONERROR ")){var r=s.substring("WEBSOCKET_ONERROR ".length),c=JSON.parse(r);t._onerror&&t._onerror(c)}else if(s.startsWith("WEBSOCKET_ONCLOSE ")){var l=s.substring("WEBSOCKET_ONCLOSE ".length),h=JSON.parse(l);t._onclose&&t._onclose(h)}else console.log("Unhandled DYKM Websocket event `"+s+"`")}}}]),e}(),w=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).handleNameChange=n.handleNameChange.bind(Object(b.a)(n)),n.socket=void 0,n.state={roomCode:"No Room Code",name:"",id:null,redirect:!1},n.PORT=1337,n.REQ_STATES={UNSET:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},n}return Object(m.a)(s,[{key:"HTTPOnReadyStateChangeHandler",value:function(e,t,s){if(e.readyState===this.REQ_STATES.DONE)return 200===e.status?(console.log("Connecting to websocket."),s?this.ConnectToWebsocket(e.responseText,t,s):this.ConnectToWebsocket(e.responseText,t),!0):(console.log("ERROR ".concat(e.status,": ")+e.responseText),!1)}},{key:"JoinRoom",value:function(e,t){var s,n=this;s=e||this.state.roomCode;var a=new XMLHttpRequest,o="http://localhost:".concat(this.PORT,"/room/get/",s),i=this.state.name;console.log("Joining room with url: ".concat("\n",o)),a.onreadystatechange=function(){var e=n.HTTPOnReadyStateChangeHandler(a,s,i);t&&t(e,s)},a.onerror=function(){alert("Unable to join server room")},a.open("GET",o),a.send(),this.setState({roomCode:s})}},{key:"CreateRoomHTTPCallback",value:function(e,t){if(4===e.readyState&&200===e.status){var s=JSON.parse(e.responseText);this.setState({roomCode:s.id},(function(){t(s.id)})),void 0===s.id?alert("Unable to generate room code for this game room."):this.JoinRoom(s.id)}else console.log("state: "+this.readyState.toString())}},{key:"RespondToSocketMessages",value:function(e,t){void 0!==e&&void 0!==this.socket&&"PING"===e.data&&this.socket.send("PONG")}},{key:"OnOpenWebsocket",value:function(e){console.log("[websocket open] Connection established\nAttempting to join room ".concat(e)),this.socket.send("JOIN "+e)}},{key:"ConnectToWebsocket",value:function(e,t){var s=this;this.url=e,this.socket=new T(e),this.socket.setOnMessage(this,this.RespondToSocketMessages),this.socket.setOnClose(this,(function(e){e.wasClean?console.log("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):console.log("[close] Connection died")})),this.socket.setOnError(this,(function(e){alert("Unable to connect to server room"),console.log("[error] ".concat(e.message))})),this.socket.setOnOpen(this,(function(){return s.OnOpenWebsocket(t)})),this.socket.connect()}},{key:"CloseNetworkedPage",value:function(){this.socket.setOnMessage(this,void 0),this.socket.setOnClose(this,void 0),this.socket.setOnError(this,void 0),this.socket.setOnOpen(this,void 0),this.socket=void 0}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}}]),s}(a.a.Component),E=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).CreateRoom=n.CreateRoom.bind(Object(b.a)(n)),n.radioOnChange=n.radioOnChange.bind(Object(b.a)(n)),n.onPackSelect=n.onPackSelect.bind(Object(b.a)(n)),n.numRounds=1,n.gamePack="doyouknowme",n}return Object(m.a)(s,[{key:"CreateRoom",value:function(){var e=this;console.log("CreateRoom()");var t=new XMLHttpRequest,s="http://localhost:".concat(this.PORT,"/room/create");console.log("URL: ".concat(s)),t.addEventListener("load",(function(){return e.CreateRoomHTTPCallback(t)})),t.onerror=function(){alert("Unable to create a game on the game server")},t.open("POST",s),console.log("Opened POST request"),t.send(),console.log("Sent post")}},{key:"CreateRoomHTTPCallback",value:function(e){var t=this;Object(O.a)(Object(p.a)(s.prototype),"CreateRoomHTTPCallback",this).call(this,e,(function(e){t.setState({roomCode:e}),t.JoinRoom(e)}))}},{key:"JoinRoom",value:function(e){var t=this;Object(O.a)(Object(p.a)(s.prototype),"JoinRoom",this).call(this,e,(function(e,s){t.setState({roomCode:s})}))}},{key:"RespondToSocketMessages",value:function(e){void 0!==this.socket&&(Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e),e.data.toString().startsWith("WELCOME ")&&(console.log(this.state.roomCode),this.socket.send("SETNUMROUNDS "+this.numRounds),this.socket.send("SETGAMEPACK "+this.gamePack),this.socket.send("CHANGENICK "+this.state.name),this.setState({id:e.data.substr("WELCOME ".length)}),this.setState({redirect:!0})))}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"radioOnChange",value:function(e){var t=parseInt(e.target.getAttribute("numvalue"));this.numRounds=t}},{key:"onPackSelect",value:function(e){e.preventDefault(),this.gamePack=e.target.href.substr(1),console.log("Changed game pack to "+this.gamePack)}},{key:"render",value:function(){var e=this;return this.state.redirect?(this.CloseNetworkedPage(),console.log("Roomcode in creategame: \n"+this.state.roomCode),Object(c.jsx)(h.a,{to:{pathname:"/hostwaitingroom",state:{id:this.state.id,roomCode:this.state.roomCode,name:this.state.name,url:this.url}}})):Object(c.jsx)("div",{className:"creategame App-header",children:Object(c.jsxs)("div",{className:"mb-2 GameSettings",children:[Object(c.jsx)("h1",{className:"Center",children:"CREATE GAME"}),Object(c.jsxs)("div",{id:"createGameSettings",children:[Object(c.jsxs)(v.a.Group,{as:k.a,id:"nickname",children:[Object(c.jsx)(v.a.Label,{column:!0,sm:2,children:"Nickname"}),Object(c.jsx)(x.a,{sm:10,children:Object(c.jsx)("input",{type:"text",placeholder:"Enter a nickname!",value:this.state.name,onChange:this.handleNameChange})})]}),Object(c.jsxs)(v.a.Group,{as:k.a,id:"questionpack",children:[Object(c.jsx)(v.a.Label,{column:!0,sm:2,children:"Question Pack"}),Object(c.jsx)(x.a,{sm:10,children:Object(c.jsx)(y.a.Container,{id:"game-type",defaultActiveKey:"#doyouknowme",children:Object(c.jsxs)(k.a,{children:[Object(c.jsx)(x.a,{sm:"auto",children:Object(c.jsxs)(C.a,{children:[Object(c.jsx)(C.a.Item,{action:!0,href:"#doyouknowme",onClick:function(t){return e.onPackSelect(t)},children:"Do You Know Me?"}),Object(c.jsx)(C.a.Item,{action:!0,href:"#icebreakers",onClick:function(t){return e.onPackSelect(t)},children:"Ice Breakers"})]})}),Object(c.jsx)(x.a,{sm:8,children:Object(c.jsxs)(y.a.Content,{children:[Object(c.jsxs)(y.a.Pane,{eventKey:"#doyouknowme",children:["Official question pack - see if you ",Object(c.jsx)("i",{children:"really"})," know your friends!"]}),Object(c.jsx)(y.a.Pane,{eventKey:"#icebreakers",children:"Great question pack to play with new friends!"})]})})]})})})]}),Object(c.jsx)("fieldset",{children:Object(c.jsxs)(v.a.Group,{as:k.a,children:[Object(c.jsx)(v.a.Label,{as:"legend",column:!0,sm:2,children:"Rounds"}),Object(c.jsxs)(x.a,{sm:10,children:[Object(c.jsx)(v.a.Check,{type:"radio",label:"1 Round",defaultChecked:!0,onChange:function(t){return e.radioOnChange(t)},name:"formHorizontalRadios",id:"formHorizontalRadios1",numvalue:1}),Object(c.jsx)(v.a.Check,{type:"radio",label:"5 Rounds",onChange:function(t){return e.radioOnChange(t)},name:"formHorizontalRadios",id:"formHorizontalRadios2",numvalue:5}),Object(c.jsx)(v.a.Check,{type:"radio",label:"10 Rounds",onChange:function(t){return e.radioOnChange(t)},name:"formHorizontalRadios",id:"formHorizontalRadios3",numvalue:10})]})]})}),Object(c.jsxs)(v.a.Group,{controlId:"roomcode",children:[Object(c.jsx)(v.a.Label,{children:"Secret Code"}),Object(c.jsx)(v.a.Text,{children:Object(c.jsx)("b",{children:this.state.roomCode})})]}),Object(c.jsx)(v.a.Group,{as:k.a,children:Object(c.jsx)(x.a,{sm:{span:10,offset:2},children:Object(c.jsx)(S.a,{variant:"primary",type:"submit",onClick:function(){return e.CreateRoom()},children:"Create the game!"})})})]})]})})}}]),s}(w),N=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).handleCodeChange=n.handleCodeChange.bind(Object(b.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(b.a)(n)),n.socket=void 0,n}return Object(m.a)(s,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleCodeChange",value:function(e){this.setState({roomCode:e.target.value})}},{key:"JoinRoom",value:function(e){var t=this;Object(O.a)(Object(p.a)(s.prototype),"JoinRoom",this).call(this,e,(function(e,s){t.setState({id:s})}))}},{key:"CreateRoomHTTPCallback",value:function(e){var t=this;Object(O.a)(Object(p.a)(s.prototype),"CreateRoomHTTPCallback",this).call(this,e,(function(e){t.setState({id:e})}))}},{key:"RespondToSocketMessages",value:function(e){void 0!==this.socket&&(e.data.toString().startsWith("WELCOME ")&&(console.log("MY NAME IS: ",this.state.name),this.socket.send("CHANGENICK "+this.state.name),this.setState({redirect:!0})),Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e))}},{key:"render",value:function(){var e=this;return this.state.redirect?(this.CloseNetworkedPage(),console.log("Roomcode in joingame: \n"+this.state.roomCode),Object(c.jsx)(h.a,{to:{pathname:"/waitingroom",state:{id:this.state.id,roomCode:this.state.roomCode,name:this.state.name,url:this.url}}})):Object(c.jsx)("div",{className:"joingame Center",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)("div",{className:"mb-2 GameSettings",children:[Object(c.jsx)("h1",{children:"JOIN A GAME"}),Object(c.jsxs)(v.a,{children:[Object(c.jsxs)(v.a.Group,{controlId:"nickname",children:[Object(c.jsx)(v.a.Label,{children:"Nickname"}),Object(c.jsx)("input",{type:"name",placeholder:"Enter a nickname!",value:this.state.name,onChange:this.handleNameChange})]}),Object(c.jsxs)(v.a.Group,{controlId:"roomcode",children:[Object(c.jsx)(v.a.Label,{children:"Secret Code"}),Object(c.jsx)("input",{type:"text",placeholder:"Enter a nickname!",value:this.state.roomCode,onChange:this.handleCodeChange})]}),Object(c.jsx)(S.a,{variant:"primary",type:"button",onClick:function(){return e.JoinRoom(e.state.roomCode)},children:"Join Game"})]})]})})})}}]),s}(w),R=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){var e;return Object(j.a)(this,s),(e=t.call(this)).wasAbleToTransition=!1,e.question=null,e.playerElements=[],e}return Object(m.a)(s,[{key:"componentDidMount",value:function(){void 0!==this.socket&&this.socket.close(),this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name)}},{key:"StartGame",value:function(){var e=this;console.log("Start game?"),this.socket.send("START GAME"),setTimeout((function(){e.wasAbleToTransition||alert("Unable to transition into the game")}),5e3)}},{key:"RespondToSocketMessages",value:function(e){if(void 0!==this.socket){Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e),console.log(e.data);var t="TRANSITION QUESTION ";e.data.startsWith(t)&&(this.wasAbleToTransition=!0,this.question=e.data.substr(t.length),this.setState({redirect:!0}),console.log("Got Question transition HOST WAITING ROOM. Question is "+this.question));var n="PLAYERUPDATE ";if(e.data.startsWith(n)){var a=e.data.substr(n.length).split(";");this.playerElements=a.map((function(e){return Object(c.jsx)("h5",{children:e},e)})),this.forceUpdate()}}}},{key:"render",value:function(){var e=this;return this.state.redirect?(this.CloseNetworkedPage(),Object(c.jsx)(h.a,{to:{pathname:"/Question",state:{id:this.props.location.state.id,roomCode:this.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.question}}})):Object(c.jsx)("div",{className:"hostwaitingroom",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"Your Game"}),Object(c.jsx)("h5",{children:"Your game was created successfully! Share the following \u2728 secret code \u2728 with your friends so they can join in on the fun!"})]}),Object(c.jsx)("div",{className:"code",children:Object(c.jsx)(v.a.Text,{children:Object(c.jsxs)("h1",{children:["Secret Code: ",Object(c.jsx)("b",{children:this.props.location.state.roomCode})]})})}),Object(c.jsxs)("div",{className:"players",children:[Object(c.jsx)("h1",{children:"Waiting for players to join..."}),0===this.playerElements.length&&Object(c.jsx)("h5",{children:"* as players join, their names will show up here * "}),this.playerElements]}),Object(c.jsx)(S.a,{type:"submit",onClick:function(){return e.StartGame()},children:"Start The Game!"})]})})}}]),s}(w),P=s(34),A=s(51);var M=function(e){return!0===e.switchToWait?Object(c.jsx)("h2",{children:"Waiting for other players..."}):Object(c.jsx)(S.a,{variant:"primary",type:"submit",onClick:function(){e.callback()},children:e.label})},L=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){var e;return Object(j.a)(this,s),(e=t.call(this)).SubmitQuestion=e.SubmitQuestion.bind(Object(b.a)(e)),e.HandleAnswerChange=e.HandleAnswerChange.bind(Object(b.a)(e)),e.answer=null,e.doneAnswering=!1,e.animationFrameID=void 0,e}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name),this.socket.send("REQUESTTIMER"),this.setState({timerSeconds:this.GetTimerSeconds(),timerPercent:this.GetTimerPercent()})}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.animationFrameID)}},{key:"RespondToSocketMessages",value:function(e){var t=this;if(void 0!==this.socket){Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e),console.log(e.data);var n="TRANSITION QUESTIONMATCH ";if(e.data.startsWith(n)){var a=e.data.substr(n.length);console.log("Server told us to transition to QUESTIONMATCH. Transitioning..."),console.log("Pairs: ",a),this.setState({redirect:!0,pairs:a})}var o="TIMER ";if(e.data.startsWith(o)){var i=e.data.substr(o.length);console.log("Got timer data "+i);var r=i.split(";").map((function(e){return parseInt(e)}));this.setState({timerStart:r[0],timerEnd:r[1]}),this.animationFrameID=requestAnimationFrame((function(){return t.TimerHandler()}))}}}},{key:"TimerHandler",value:function(){var e=this;this.setState({timerSeconds:this.GetTimerSeconds(),timerPercent:this.GetTimerPercent()}),this.state.timerEnd-(new Date).getTime()>0&&(this.animationFrameID=requestAnimationFrame((function(){return e.TimerHandler()})))}},{key:"SubmitQuestion",value:function(){this.socket.send("ANSWER "+this.answer),console.log("Sending answer "+this.answer),this.doneAnswering=!0,this.forceUpdate()}},{key:"HandleAnswerChange",value:function(e){this.answer=e.target.value}},{key:"GetTimerSeconds",value:function(){return this.state.timerStart&&this.state.timerEnd?Math.max(Math.floor((this.state.timerEnd-(new Date).getTime())/1e3),0):0}},{key:"GetTimerPercent",value:function(){if(this.state.timerStart&&this.state.timerEnd){var e=(this.state.timerEnd-(new Date).getTime())/(this.state.timerEnd-this.state.timerStart);return Math.min(Math.max(100*e,0),100)}return 100}},{key:"render",value:function(){var e=this;return this.state.redirect?(this.CloseNetworkedPage(),console.log("Transition to Match"),console.log("Pairs before transition: ",this.state.pairs),Object(c.jsx)(h.a,{to:{pathname:"/questionmatch",state:{id:this.props.location.state.id,roomCode:this.props.location.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.props.location.state.question,matchPairStr:this.state.pairs}}})):Object(c.jsx)("div",{className:"question",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)("div",{className:"prompt",children:[Object(c.jsx)(A.a,{now:this.state.timerPercent,label:"".concat(this.state.timerSeconds," secs left!")}),Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"QUESTION"}),Object(c.jsx)(P.a,{border:"primary",bg:"light",text:"dark",children:Object(c.jsx)(P.a.Body,{children:this.props.location.state.question})}),Object(c.jsxs)(v.a.Group,{children:[Object(c.jsx)("br",{}),Object(c.jsx)(v.a.Control,{type:"text",placeholder:"Type your answer here!",onChange:this.HandleAnswerChange}),Object(c.jsx)("br",{}),Object(c.jsx)(M,{label:"Submit Answer",switchToWait:this.doneAnswering,callback:function(){return e.SubmitQuestion()}})]})]})})})}}]),s}(w),W=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).socket=void 0,n.playerElements=[],n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name)}},{key:"RespondToSocketMessages",value:function(e){if(void 0!==this.socket){Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e),console.log(e.data);var t="TRANSITION QUESTION ";e.data.startsWith(t)&&(this.question=e.data.substr(t.length),this.setState({redirect:!0}),console.log("Got Question transition WAITING ROOM. Question is "+this.question));var n="PLAYERUPDATE ";if(e.data.startsWith(n)){var a=e.data.substr(n.length).split(";");this.playerElements=a.map((function(e){return Object(c.jsx)("h5",{children:e})})),this.forceUpdate()}}}},{key:"render",value:function(){return this.state.redirect?(this.CloseNetworkedPage(),Object(c.jsx)(h.a,{to:{pathname:"/Question",state:{id:this.props.location.state.id,roomCode:this.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.question}}})):Object(c.jsx)("div",{className:"waitingroom",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)("div",{className:"players",children:[Object(c.jsx)("h1",{children:"Waiting for more players to join..."}),0===this.playerElements.length&&Object(c.jsx)("h5",{children:"* as players join, their names will show up here * "}),this.playerElements]})})})}}]),s}(w),I=s.p+"static/media/logo.6ce24c58.svg",G=s(58),D=function(){return G.isChrome||G.isFirefox||G.isSafari||alert("Warning: You are using an unsupported browser. This game is only tested with Chrome, Firefox, and Safari. You may encounter bugs because of this"),Object(c.jsx)("div",{className:"Center",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:I,className:"App-logo",alt:"logo"}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"Do You Know Me?"}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"Play with your friends!"})})]}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)(S.a,{href:"/creategame",variant:"primary",size:"lg",block:!0,children:" Create Game "})," "]}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)(S.a,{href:"/joingame",variant:"primary",size:"lg",block:!0,children:" Join Game "})," "]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:"Team SOFT"}),Object(c.jsx)("a",{className:"App-link",href:"https://github.com/UMBCSOFT",target:"_blank",rel:"noopener noreferrer",children:Object(c.jsx)("h6",{children:"Repo for this project"})})]})]})})},H=s(30),_=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).isDisplayRoundScore=e.displayRoundScore,n.playerList=e.playerList,n}return Object(m.a)(s,[{key:"GenerateScoreContent",value:function(){for(var e=[],t=this.playerList.sort((function(e,t){return t.score-e.score})),s=null,n=0;n<t.length;n++)this.isDisplayRoundScore&&(s=Object(c.jsxs)(x.a,{md:"auto",children:["+",t[n].numCorrectMatches]})),e.push(Object(c.jsxs)(k.a,{children:[Object(c.jsxs)(x.a,{md:"auto",children:[n+1,". "]}),Object(c.jsx)(x.a,{md:"auto",children:t[n].name}),s,Object(c.jsx)(x.a,{md:"auto",children:t[n].score})]}));return e}},{key:"render",value:function(){return this.GenerateScoreContent()}}]),s}(a.a.Component),q=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(){var e;return Object(j.a)(this,s),(e=t.call(this)).HandleClick=e.HandleClick.bind(Object(b.a)(e)),e.clickedSubmit=!1,e.isLastRound=!1,e.wasAbleToTransition=null,e.question=null,e.state={playerScoresObjList:[]},e}return Object(m.a)(s,[{key:"UNSAFE_componentWillMount",value:function(){this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name)}},{key:"IsLastRound",value:function(){this.socket.send("ISLASTROUND")}},{key:"GetPlayerList",value:function(){this.socket.send("GETPLAYERSCORES")}},{key:"ConvertScoreStrToObjList",value:function(e){var t,s=e.split(";"),n=[],a=Object(H.a)(s);try{for(a.s();!(t=a.n()).done;){var o=t.value.split(",");n.push({name:o[0],score:o[1],numCorrectMatches:o[2]})}}catch(i){a.e(i)}finally{a.f()}return n}},{key:"RespondToSocketMessages",value:function(e,t){if(e.data.startsWith("ISLASTROUND ")){var n=e.data.substr("IS LAST ROUND ".length);this.isLastRound="TRUE"===n,this.isLastRound&&this.forceUpdate()}var a="TRANSITION QUESTION ",o="TRANSITION ENDGAME";(e.data.startsWith(a)||e.data.startsWith(o))&&(this.wasAbleToTransition=!0,this.question=e.data.substr(a.length),this.isLastRound=e.data.startsWith(o),this.setState({redirect:!0}),console.log("Got Question transition SCORES. Question is "+this.question));var i="PLAYERSCORES ";if(e.data.startsWith(i)){var r=e.data.substr(i.length);this.setState({playerScoresObjList:this.ConvertScoreStrToObjList(r)})}Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e,t)}},{key:"HandleClick",value:function(){this.clickedSubmit=!0,this.forceUpdate(),this.socket.send("READYNEXTROUND")}},{key:"render",value:function(){var e=this;if(this.socket?this.IsLastRound():setTimeout(this.IsLastRound,2e3),this.state.redirect)return this.CloseNetworkedPage(),this.isLastRound?(console.log("Transition to end screen"),Object(c.jsx)(h.a,{to:{pathname:"/endgame",state:{id:this.props.location.state.id,roomCode:this.props.location.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,playerScoresObjList:this.state.playerScoresObjList}}})):(console.log("Transition to next round"),Object(c.jsx)(h.a,{to:{pathname:"/question",state:{id:this.props.location.state.id,roomCode:this.props.location.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.question}}}));this.GetPlayerList();var t=null;return this.state.playerScoresObjList.length>0&&(t=Object(c.jsx)(_,{displayRoundScore:!0,playerList:this.state.playerScoresObjList})),Object(c.jsx)("div",{className:"scores",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("h1",{children:"SCORE PAGE"}),t,Object(c.jsx)(M,{label:"Ready?",switchToWait:this.clickedSubmit,callback:function(){return e.HandleClick()}})]})})}}]),s}(w),U=s(72),B=s(97),K=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).currectPlayer=e.currentPlayer,n.correctPlayer=e.pair[0],n.correctPlayerAnswer=e.pair[1],n.matchPairList=e.matchPairList,n.callback=e.callback,n.callback=n.callback.bind(Object(b.a)(n)),n.setBtnRef=function(e){n.btnRef=e},n}return Object(m.a)(s,[{key:"LocalHandleDropdownSelect",value:function(e){this.props.callback(this.correctPlayer,this.correctPlayerAnswer,e[0],e[1]),this.btnRef.getElementsByTagName("button")[0].innerHTML=e[0]}},{key:"GetDropdown",value:function(){var e,t=this,s=[],n=Object(H.a)(this.matchPairList);try{var a=function(){var n=e.value;if(n[0]===t.currectPlayer)return"continue";s.push(Object(c.jsx)(U.a.Item,{onClick:function(){return t.LocalHandleDropdownSelect(n)},children:n[0]},n))};for(n.s();!(e=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}return Object(c.jsx)(B.a,{title:"Guess author...",ref:this.setBtnRef,children:s})}},{key:"render",value:function(){return this.GetDropdown()}}]),s}(a.a.Component),Q=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).currentPlayer=e.currentPlayer,n.pair=e.pair,n.matchPairList=e.matchPairList,n.callback=e.callback,n}return Object(m.a)(s,[{key:"render",value:function(){return Object(c.jsxs)(k.a,{children:[Object(c.jsx)(x.a,{children:this.pair[1]}),Object(c.jsx)(x.a,{children:Object(c.jsx)(K,{currentPlayer:this.currentPlayer,pair:this.pair,matchPairList:this.matchPairList,callback:this.callback},this.pair)})]})}}]),s}(a.a.Component),F=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).HandleSubmit=n.HandleSubmit.bind(Object(b.a)(n)),n.HandleDropdownSelect=n.HandleDropdownSelect.bind(Object(b.a)(n)),n.state={matchPairList:n.ConvertNameAnswerPairsStrToList(),matches:{}},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name),this.socket.send("REQUESTTIMER"),this.setState({timerSeconds:this.GetTimerSeconds(),timerPercent:this.GetTimerPercent()})}},{key:"ShuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var s=Math.floor(Math.random()*(t+1)),n=[e[s],e[t]];e[t]=n[0],e[s]=n[1]}}},{key:"RespondToSocketMessages",value:function(e){var t=this;if(void 0!==this.socket){Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e),console.log(e.data);if(e.data.startsWith("TRANSITION SCORE"))return console.log("Transitioning to score screen"),void this.setState({redirect:!0});var n="TIMER ";if(e.data.startsWith(n)){var a=e.data.substr(n.length);console.log("Got timer data "+a);var o=a.split(";").map((function(e){return parseInt(e)}));this.setState({timerStart:o[0],timerEnd:o[1]}),requestAnimationFrame((function(){return t.TimerHandler()}))}}}},{key:"TimerHandler",value:function(){var e=this;this.setState({timerSeconds:this.GetTimerSeconds(),timerPercent:this.GetTimerPercent()}),this.state.timerEnd-(new Date).getTime()>0&&requestAnimationFrame((function(){return e.TimerHandler()}))}},{key:"GetTimerSeconds",value:function(){return this.state.timerStart&&this.state.timerEnd?Math.max(Math.floor((this.state.timerEnd-(new Date).getTime())/1e3),0):0}},{key:"GetTimerPercent",value:function(){if(this.state.timerStart&&this.state.timerEnd){var e=(this.state.timerEnd-(new Date).getTime())/(this.state.timerEnd-this.state.timerStart);return Math.min(Math.max(100*e,0),100)}return 100}},{key:"ConvertNameAnswerPairsStrToList",value:function(){var e,t=this.props.location.state.matchPairStr.split(";"),s=[],n=Object(H.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value.split(",");a[0]!==this.props.location.state.name&&s.push(a)}}catch(o){n.e(o)}finally{n.f()}return s}},{key:"ConvertMatchesToStr",value:function(){var e=[];for(var t in this.state.matches)this.state.matches.hasOwnProperty(t)&&e.push(this.state.matches[t].join(","));return e.join(";")}},{key:"HandleSubmit",value:function(){this.doneAnswering=!0;var e=this.ConvertMatchesToStr();this.socket.send("DONEMATCHING "+e)}},{key:"HandleDropdownSelect",value:function(e,t,s,n){console.log("Chosen player: ",s+"\nCorrect player: ",e);var a=this.state.matches;a[[e,t].join("--\x3e")]=[e,t,s,n],this.setState({matches:a})}},{key:"render",value:function(){var e=this;if(this.state.redirect)return this.CloseNetworkedPage(),console.log("Transition to Scores"),Object(c.jsx)(h.a,{to:{pathname:"/scores",state:{id:this.props.location.state.id,roomCode:this.props.location.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.props.location.state.question}}});if(void 0===this.options){console.log("Player Answers: "+this.state.matchPairList),this.options=[];var t,s=Object(H.a)(this.state.matchPairList);try{for(s.s();!(t=s.n()).done;){var n=t.value;n[0]!==this.props.location.state.name&&this.options.push(Object(c.jsx)(Q,{currentPlayer:this.props.location.state.name,pair:n,matchPairList:this.state.matchPairList,callback:this.HandleDropdownSelect},n))}}catch(a){s.e(a)}finally{s.f()}this.ShuffleArray(this.options)}return Object(c.jsx)("div",{className:"questionmatch",children:Object(c.jsx)("header",{className:"App-header",children:Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h1",{children:"Round 1"}),Object(c.jsx)("br",{}),Object(c.jsx)(P.a,{border:"primary",bg:"light",text:"dark",children:Object(c.jsx)(P.a.Body,{children:this.props.location.state.question})}),Object(c.jsx)("br",{}),Object(c.jsx)("h4",{children:"Match each answer to a player!"}),Object(c.jsx)(P.a,{text:"dark",style:{width:"100%"},children:this.options}),Object(c.jsx)(A.a,{now:this.state.timerPercent,label:"".concat(this.state.timerSeconds," secs left!")}),Object(c.jsx)(M,{label:"Submit Answer",switchToWait:this.doneAnswering,callback:function(){return e.HandleSubmit()}})]})})})}}]),s}(w),Y=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).question=void 0,n.playerList=e.playerList,n}return Object(m.a)(s,[{key:"GetWinner",value:function(){var e,t=this.playerList[0],s=Object(H.a)(this.playerList);try{for(s.s();!(e=s.n()).done;){var n=e.value;n.score>t.score&&(t=n)}}catch(a){s.e(a)}finally{s.f()}return t}},{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{displayRoundScore:!1,playerList:this.playerList}),Object(c.jsx)("br",{}),Object(c.jsxs)("h1",{children:["Winner: ",this.GetWinner().name]}),Object(c.jsxs)("h2",{children:["with ",this.GetWinner().score," point(s)!"]})]})}}]),s}(a.a.Component),J=function(e){Object(f.a)(s,e);var t=Object(g.a)(s);function s(e){var n;return Object(j.a)(this,s),(n=t.call(this,e)).HandleClick=n.HandleClick.bind(Object(b.a)(n)),n.clickedSubmit=!1,n.wasAbleToTransition=null,n.buttons={MAIN_MENU:"main menu",PLAY_AGAIN:"play again"},n.state={playerScoresObjList:[]},n}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.ConnectToWebsocket(this.props.location.state.url,this.props.location.state.id,this.props.location.state.name)}},{key:"RespondToSocketMessages",value:function(e,t){var n="TRANSITION QUESTION ";e.data.startsWith(n)&&(this.question=e.data.substr(n.length),this.setState({redirect:!0}),console.log("Got Question transition SCORES. Question is "+this.question)),Object(O.a)(Object(p.a)(s.prototype),"RespondToSocketMessages",this).call(this,e,t)}},{key:"HandleClick",value:function(e){this.clickedSubmit=!0,null!==e&&void 0!==e||console.error("btnChoice is not defined"),this.setState({playAgain:e===this.buttons.PLAY_AGAIN,redirect:!0}),e===this.buttons.PLAY_AGAIN&&this.socket.send("READYNEXTROUND")}},{key:"render",value:function(){var e=this;if(this.state.redirect)return this.CloseNetworkedPage(),this.state.playAgain?(console.log("Transition to next round"),Object(c.jsx)(h.a,{to:{pathname:"/question",state:{id:this.props.location.state.id,roomCode:this.props.location.state.roomCode,name:this.props.location.state.name,url:this.props.location.state.url,question:this.question}}})):(console.log("End game and return to main menu"),Object(c.jsx)(h.a,{to:{pathname:"/",state:{}}}));var t=null,s=this.props.location.state.playerScoresObjList;return s.length>0&&(t=Object(c.jsx)(Y,{playerList:s})),Object(c.jsx)("div",{className:"scores",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("h1",{children:"GAME SUMMARY"}),t,Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"mb-2",children:Object(c.jsx)(S.a,{variant:"primary",type:"submit",onClick:function(){return e.HandleClick(e.buttons.MAIN_MENU)},children:"Main Menu"})})]})})}}]),s}(w),z=s(25),X=s.p+"static/media/mainmenu.5a6a16fe.png",V=s.p+"static/media/creategame.9c6f4caa.png",Z=s.p+"static/media/joingame.604d9a3b.png",$=s.p+"static/media/waitingroom.343b6348.png",ee=s.p+"static/media/waitingroom2.bbe6bc84.png",te=s.p+"static/media/question.b4ce4b67.png",se=s.p+"static/media/gamematch.5c6bdef9.png",ne=s.p+"static/media/roundend.82143212.png",ae=s.p+"static/media/finalscores.570fe1cd.png",oe=s.p+"static/media/dykm.54ceb8c1.png";var ie=function(){return Object(c.jsx)("div",{className:"ProductPage",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("img",{src:oe,alt:"logo"}),Object(c.jsx)("h1",{children:"Do You Know Me?"}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"See if you really know your friends!"})}),Object(c.jsx)("br",{}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"Do You Know Me? is a fun, friend-group focused, web-based multiplayer game built around the idea of figuring out how well you know your friends. You can create a game, invite all your friends to join with a secret game code, choose the question pack you want to play with, and choose how many rounds of the game you\u2019d like to play. Each round, all players are asked the same question from the pre-chosen game pack and must submit an answer. Afterwards, all the answers are gathered and then all of the players must guess who wrote each answer. For each question and answer pair you match correctly, you get a point. The main idea of the game is to see whether or not you really know your friends!"})}),Object(c.jsx)("br",{}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:"*30 second demo video here*"})}),Object(c.jsx)("br",{}),Object(c.jsx)("h5",{children:Object(c.jsx)("i",{children:Object(c.jsxs)(z.a,{children:[Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:X,alt:"First slide",style:{width:"10%",height:"auto"}})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:V,alt:"Second slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:Z,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:$,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:ee,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:te,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:se,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:ne,alt:"Third slide"})}),Object(c.jsx)(z.a.Item,{children:Object(c.jsx)("img",{className:"d-block w-100",src:ae,alt:"Third slide"})})]})})}),Object(c.jsx)("br",{})]})]})})},re=function(){return Object(c.jsxs)(h.d,{children:[Object(c.jsx)(h.b,{exact:!0,path:"/",children:Object(c.jsx)(D,{})}),Object(c.jsx)(h.b,{path:"/about",children:Object(c.jsx)(d,{})}),Object(c.jsx)(h.b,{path:"/howToPlay",children:Object(c.jsx)(u,{})}),Object(c.jsx)(h.b,{path:"/waitingroom",component:W}),Object(c.jsx)(h.b,{path:"/creategame",component:E}),Object(c.jsx)(h.b,{path:"/joingame",component:N}),Object(c.jsx)(h.b,{path:"/hostwaitingroom",component:R}),Object(c.jsx)(h.b,{path:"/question",component:L}),Object(c.jsx)(h.b,{path:"/questionmatch",component:F}),Object(c.jsx)(h.b,{path:"/scores",component:q}),Object(c.jsx)(h.b,{path:"/endgame",component:J}),Object(c.jsx)(h.b,{path:"/productpage",component:ie})]})},ce=s(24),le=s(71),he=s.n(le),de="<!DOCTYPE html><html><head>".concat([].slice.call(document.head.getElementsByTagName("style")).map((function(e){return e.outerHTML})).join(""),"</head><body><div></div></body></html>");var ue=function(){return Object(c.jsx)(he.a,{initialContent:de,frameBorder:"0",id:"Frame",children:Object(c.jsx)(ce.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(l,{}),Object(c.jsx)(re,{})]})})})},je=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,101)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),o(e),i(e)}))};s(90);"undefined"!==typeof window&&i.a.render(Object(c.jsx)(ue,{}),document.getElementById("root")),je()}},[[91,1,2]]]);
//# sourceMappingURL=main.d97be393.chunk.js.map